{"ast":null,"code":"var _jsxFileName = \"/Users/mihirprakash/Desktop/ricecompsecs25-hw4-hw4-starter/social/frontend/src/users/user.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport UserContext from './usercontext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserProvider({\n  value,\n  children\n}) {\n  _s();\n  const [user, setUser] = useState(null);\n  const [allUsers, setAllUsers] = useState([]); // Store all fetched users\n  const [allPosts, setAllPosts] = useState([]);\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem('loggedInUser', JSON.stringify(user));\n    } else {\n      localStorage.removeItem('loggedInUser');\n    }\n  }, [user]);\n  useEffect(() => {\n    const storedUser = localStorage.getItem('loggedInUser');\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n  useEffect(() => {\n    // Fetch both users and posts data\n    Promise.all([fetch('https://jsonplaceholder.typicode.com/users').then(response => response.json()), fetch('https://jsonplaceholder.typicode.com/posts').then(response => response.json())]).then(([users, posts]) => {\n      posts = posts.map(post => ({\n        ...post,\n        u: users.find(u => u.id === post.userId)\n      }));\n      console.log(\"user posts: \" + posts[0].u.username);\n      const augmentedUsers = users.map(user => {\n        // Find posts for this user\n        //console.log(\"aug username: \" + user.username)\n        const userPosts = posts.filter(post => post.userId === user.id);\n        let follows = [];\n        if (user.id === 10) {\n          follows = [1, 2, 3];\n        } else if (user.id === 9) {\n          follows = [10, 1, 2];\n        } else if (user.id === 8) {\n          follows = [9, 10, 1];\n        } else {\n          follows = [user.id + 1, user.id + 2, user.id + 3].filter(id => id <= 10);\n        }\n\n        // Return combined user data with follows and posts\n        return {\n          ...user,\n          follows: follows,\n          posts: userPosts,\n          email: \"placeholder@gmail.com\",\n          phone: \"123-456-7890\",\n          zip: \"11111\"\n        };\n      });\n      setAllUsers(augmentedUsers);\n      setAllPosts(posts);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      setUser,\n      allUsers,\n      setAllPosts,\n      allPosts,\n      ...value\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(UserProvider, \"K/MMydqsScS4B0L5Y5xh75/7XXQ=\");\n_c = UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["React","useState","useEffect","UserContext","jsxDEV","_jsxDEV","UserProvider","value","children","_s","user","setUser","allUsers","setAllUsers","allPosts","setAllPosts","localStorage","setItem","JSON","stringify","removeItem","storedUser","getItem","parse","Promise","all","fetch","then","response","json","users","posts","map","post","u","find","id","userId","console","log","username","augmentedUsers","userPosts","filter","follows","email","phone","zip","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mihirprakash/Desktop/ricecompsecs25-hw4-hw4-starter/social/frontend/src/users/user.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport UserContext from './usercontext';\n\nexport default function UserProvider({ value, children }) {\n    const [user, setUser] = useState(null);\n    const [allUsers, setAllUsers] = useState([]); // Store all fetched users\n    const [allPosts, setAllPosts] = useState([]);\n    useEffect(() => {\n        if (user) {\n            localStorage.setItem('loggedInUser', JSON.stringify(user));\n        } else {\n            localStorage.removeItem('loggedInUser');\n        }\n    }, [user]);\n    useEffect(() => {\n        const storedUser = localStorage.getItem('loggedInUser');\n        if (storedUser) {\n            setUser(JSON.parse(storedUser));\n        }\n    }, []);\n    useEffect(() => {\n        // Fetch both users and posts data\n        Promise.all([\n            fetch('https://jsonplaceholder.typicode.com/users').then(response => response.json()),\n            fetch('https://jsonplaceholder.typicode.com/posts').then(response => response.json())\n        ])\n        .then(([users, posts]) => {\n            posts = posts.map(post => ({\n                ...post, \n                u: users.find(u => u.id === post.userId)\n              }));\n              console.log(\"user posts: \" + posts[0].u.username);\n            \n            const augmentedUsers = users.map(user => {\n                // Find posts for this user\n                //console.log(\"aug username: \" + user.username)\n                const userPosts = posts.filter(post => post.userId === user.id);\n                \n                let follows = [];\n                if (user.id === 10) {\n                    follows = [1, 2, 3];\n                } else if (user.id === 9) {\n                    follows = [10, 1, 2];\n                } else if (user.id === 8) {\n                    follows = [9, 10, 1];\n                } else {\n                    follows = [user.id + 1, user.id + 2, user.id + 3].filter(id => id <= 10);\n                }\n\n                // Return combined user data with follows and posts\n                return {\n                    ...user,\n                    follows: follows,\n                    posts: userPosts,\n                    email: \"placeholder@gmail.com\",\n                    phone: \"123-456-7890\",\n                    zip: \"11111\"\n                };\n            });\n            setAllUsers(augmentedUsers);\n            setAllPosts(posts);\n        });\n    }, []);\n\n    return (\n        <UserContext.Provider value={{ user, setUser, allUsers, setAllPosts, allPosts, ...value }}>\n            {children}\n        </UserContext.Provider>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}